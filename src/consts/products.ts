import {
  BASKET_PAGE,
  BASKET_PAGE_HOTSPOT,
  MAIN_PAGE,
  MAIN_PAGE_HOTSPOT_FOUR,
  MAIN_PAGE_HOTSPOT_ONE,
  MAIN_PAGE_HOTSPOT_THREE,
  MAIN_PAGE_HOTSPOT_TWO,
  PRODUCTS_LIST,
  PRODUCT_DETAILS_ASSOCIATED_ONE,
  PRODUCT_DETAILS_ASSOCIATED_THREE,
  PRODUCT_DETAILS_ASSOCIATED_TWO,
  PRODUCT_DETAILS_PAGE,
  PRODUCT_DETAILS_PRODUCTS_ZONE_ONE,
  PRODUCT_LISTING,
  PRODUCT_LISTING_HOTSPOT,
} from 'consts/pages';
import {
  TProductContainers,
  TProductIdExtractorKeys,
  TProductSelectors,
} from 'types/product';

const SPONSORED_PRODUCT_TAG = 'sponsored-';
const SPONSORED_PRODUCT_CLASS = 'onet-product';
const ADD_TO_BASKET_BTN_CLASS = 'product__buy_button';

const BASKET_PAGE_HOTSPOT_SELECTOR = '#basketedit_hotspot_zone1 .products';

const PRODUCT_LISTING_SELECTOR = '#search';
const PRODUCT_LISTING_HOTSPOT_SELECTOR = '#search_hotspot_zone1 .products';

const ASSOCIATED_ONE_PRODUCTS_LIST_SELECTOR =
  '#products_associated_zone1 .products';
const ASSOCIATED_TWO_PRODUCTS_LIST_SELECTOR =
  '#products_associated_zone2 .products';
const ASSOCIATED_THREE_PRODUCTS_LIST_SELECTOR =
  '#products_associated_zone3 .products';
const PRODUCTS_ONE_LIST_SELECTOR = '#products_zone1 .products';

const MAIN_PAGE_HOT_SPOT_ONE_LIST_SELECTOR = '#main_hotspot_zone1 .products';
const MAIN_PAGE_HOT_SPOT_TWO_LIST_SELECTOR = '#main_hotspot_zone2 .products';
const MAIN_PAGE_HOT_SPOT_THREE_LIST_SELECTOR = '#main_hotspot_zone3 .products';
const MAIN_PAGE_HOT_SPOT_FOUR_LIST_SELECTOR = '#main_hotspot_zone4 .products';

const PRODUCT_DISABLE_KEY = 'product_disable';
const PRODUCT_CLASS = 'product';
const PRODUCT_NOT_AVAILABLE_ID = 'product_tell_availability';
const PRODUCT_SELECTOR = `.${PRODUCT_CLASS}:not(.${SPONSORED_PRODUCT_CLASS}):not(:has(#${PRODUCT_NOT_AVAILABLE_ID})):has(.product__icon)`;

const PRODUCT_LISTING_ID = 'data-product_id';
const PRODUCT_LISTING_ID_SELECTOR = `[${PRODUCT_LISTING_ID}]`;
const PRODUCT_LISTING_ID_EXTRACTOR_KEY = 'product_id';

const HOT_SPOTS_PRODUCT_ID = 'data-product-id';
const HOT_SPOTS_PRODUCT_ID_SELECTOR = `[${HOT_SPOTS_PRODUCT_ID}]`;
const HOT_SPOTS_PRODUCT_EXTRACTOR_KEY = 'productId';

const PRODUCT_CONTAINERS: TProductContainers = {
  [BASKET_PAGE]: {
    [BASKET_PAGE_HOTSPOT]: BASKET_PAGE_HOTSPOT_SELECTOR,
  },

  [PRODUCTS_LIST]: {
    [PRODUCT_LISTING]: PRODUCT_LISTING_SELECTOR,
    [PRODUCT_LISTING_HOTSPOT]: PRODUCT_LISTING_HOTSPOT_SELECTOR,
  },

  [PRODUCT_DETAILS_PAGE]: {
    [PRODUCT_DETAILS_ASSOCIATED_ONE]: ASSOCIATED_ONE_PRODUCTS_LIST_SELECTOR,
    [PRODUCT_DETAILS_ASSOCIATED_TWO]: ASSOCIATED_TWO_PRODUCTS_LIST_SELECTOR,
    [PRODUCT_DETAILS_ASSOCIATED_THREE]: ASSOCIATED_THREE_PRODUCTS_LIST_SELECTOR,
    [PRODUCT_DETAILS_PRODUCTS_ZONE_ONE]: PRODUCTS_ONE_LIST_SELECTOR,
  },

  [MAIN_PAGE]: {
    [MAIN_PAGE_HOTSPOT_ONE]: MAIN_PAGE_HOT_SPOT_ONE_LIST_SELECTOR,
    [MAIN_PAGE_HOTSPOT_TWO]: MAIN_PAGE_HOT_SPOT_TWO_LIST_SELECTOR,
    [MAIN_PAGE_HOTSPOT_THREE]: MAIN_PAGE_HOT_SPOT_THREE_LIST_SELECTOR,
    [MAIN_PAGE_HOTSPOT_FOUR]: MAIN_PAGE_HOT_SPOT_FOUR_LIST_SELECTOR,
  },
};

const PRODUCT_ID_SELECTORS: TProductSelectors = {
  [BASKET_PAGE]: {
    [BASKET_PAGE_HOTSPOT]: HOT_SPOTS_PRODUCT_ID_SELECTOR,
  },

  [PRODUCTS_LIST]: {
    [PRODUCT_LISTING]: PRODUCT_LISTING_ID_SELECTOR,
    [PRODUCT_LISTING_HOTSPOT]: HOT_SPOTS_PRODUCT_ID_SELECTOR,
  },
  [PRODUCT_DETAILS_PAGE]: {
    [PRODUCT_DETAILS_ASSOCIATED_ONE]: HOT_SPOTS_PRODUCT_ID_SELECTOR,
    [PRODUCT_DETAILS_ASSOCIATED_TWO]: HOT_SPOTS_PRODUCT_ID_SELECTOR,
    [PRODUCT_DETAILS_ASSOCIATED_THREE]: HOT_SPOTS_PRODUCT_ID_SELECTOR,
    [PRODUCT_DETAILS_PRODUCTS_ZONE_ONE]: HOT_SPOTS_PRODUCT_ID_SELECTOR,
  },
  [MAIN_PAGE]: {
    [MAIN_PAGE_HOTSPOT_ONE]: HOT_SPOTS_PRODUCT_ID_SELECTOR,
    [MAIN_PAGE_HOTSPOT_TWO]: HOT_SPOTS_PRODUCT_ID_SELECTOR,
    [MAIN_PAGE_HOTSPOT_THREE]: HOT_SPOTS_PRODUCT_ID_SELECTOR,
    [MAIN_PAGE_HOTSPOT_FOUR]: HOT_SPOTS_PRODUCT_ID_SELECTOR,
  },
};

const PRODUCT_ID_EXTRACTOR_KEYS: TProductIdExtractorKeys = {
  [BASKET_PAGE]: {
    [BASKET_PAGE_HOTSPOT]: HOT_SPOTS_PRODUCT_EXTRACTOR_KEY,
  },

  [PRODUCTS_LIST]: {
    [PRODUCT_LISTING]: PRODUCT_LISTING_ID_EXTRACTOR_KEY,
    [PRODUCT_LISTING_HOTSPOT]: HOT_SPOTS_PRODUCT_EXTRACTOR_KEY,
  },
  [PRODUCT_DETAILS_PAGE]: {
    [PRODUCT_DETAILS_ASSOCIATED_ONE]: HOT_SPOTS_PRODUCT_EXTRACTOR_KEY,
    [PRODUCT_DETAILS_ASSOCIATED_TWO]: HOT_SPOTS_PRODUCT_EXTRACTOR_KEY,
    [PRODUCT_DETAILS_ASSOCIATED_THREE]: HOT_SPOTS_PRODUCT_EXTRACTOR_KEY,
    [PRODUCT_DETAILS_PRODUCTS_ZONE_ONE]: HOT_SPOTS_PRODUCT_EXTRACTOR_KEY,
  },
  [MAIN_PAGE]: {
    [MAIN_PAGE_HOTSPOT_ONE]: HOT_SPOTS_PRODUCT_EXTRACTOR_KEY,
    [MAIN_PAGE_HOTSPOT_TWO]: HOT_SPOTS_PRODUCT_EXTRACTOR_KEY,
    [MAIN_PAGE_HOTSPOT_THREE]: HOT_SPOTS_PRODUCT_EXTRACTOR_KEY,
    [MAIN_PAGE_HOTSPOT_FOUR]: HOT_SPOTS_PRODUCT_EXTRACTOR_KEY,
  },
};

const CONTAINER_SELECTORS_TO_DELETE = [
  '.product__traits',
  '.label_icons',
  '.product__details',
  '.product__availability',
  '.product__yousave',
  '.product__versions',
  '.addToWishlist',
  '.product__comments',
  '.product__opins',
  '.product__ajax_delivery',
  '.search_short_desc',
  'small:is(.price:is(.--convert))',
  '.product__rating',
  '.s_unit_converted_price',
  '.product__description:is(.hidden)',
];

const SLIDER_CLASS_ONE = '--slider';
const SLIDER_CLASS_TWO = 'slick-slider';
const SLIDER_CLONED_CLASS = 'slick-cloned';

export {
  PRODUCT_LISTING_SELECTOR,
  PRODUCT_CONTAINERS,
  ASSOCIATED_ONE_PRODUCTS_LIST_SELECTOR,
  ASSOCIATED_TWO_PRODUCTS_LIST_SELECTOR,
  PRODUCT_ID_SELECTORS,
  PRODUCT_CLASS,
  PRODUCT_DISABLE_KEY,
  PRODUCT_ID_EXTRACTOR_KEYS,
  PRODUCT_SELECTOR,
  CONTAINER_SELECTORS_TO_DELETE,
  SLIDER_CLASS_ONE,
  SLIDER_CLASS_TWO,
  SLIDER_CLONED_CLASS,
  SPONSORED_PRODUCT_TAG,
  SPONSORED_PRODUCT_CLASS,
  ADD_TO_BASKET_BTN_CLASS,
};
